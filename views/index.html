<!DOCTYPE html>
<html lang="en">

<!-- /* References https://github.com/mikhail-cct/CA1-In-class-Demo -- Code that i used as base for my CA. i used the example 
and changed his code for what i needed.
https://www.w3schools.com/ - Most used to get CSS 
My Own codes from previus assigments
-->
<script>
	function myFunction() {
  var txt;
  var person = prompt("Please enter the email you want to send your ticket:", "Someone@gmail.com");
}
</script>

<script>
	function myFunction1() {
  alert("Your table was update sucessfully");
}
</script>

<head>
	<img class="Logo" src="images/Logo.jpg" width="1350" height="350>
  <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Easy Tikets</title>


	<link href="css/TicketApp.css" rel="stylesheet">
</head>

<body background="images/Background.jpg">

	<div class="Menu" align="center">
		<ul>
			<li><a href="./index.html">Home</a></li>
			<li><a href="">Login</a></li>
			<li><a href="#">Register</a></li>
			<li><a href="#">Concerts</a></li>
			<li><a href="#">Contact Us </a></li>
		</ul>
	</div>

	<h2 class="mt-5" align="center">Welcome to EasyTickets</h2>


<div id="Homepage">
		<div id="tickets"> </div>
</div>


	<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
	<script src="https://unpkg.com/react@15/dist/react.js"></script>
	<script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>



 <script type="text/babel">
        var Tickets = React.createClass({
            getInitialState: function(){
                return({
                    tickets: []
                });
            },


	
            render: function() {
                var tickets = this.state.tickets,
                tickets = tickets.map(function(tickets, index){
                return(
                    <li key={index}>
                    <span className="name">{tickets.obj.name}</span>
                    <span className="type">{tickets.obj.type}</span>
                    <span className="avaliables">{tickets.obj.avaliables}</span>
                    <span className="price">{tickets.obj.price}</span>
                    </li>
                    );
                 });
                  return (
                    <div id="ticket-container">
                        <form id="search" onSubmit = {this.handleSubmit}>
                             <input type ="submit" value="Find Tickets">
                        </form>
                        <ul>{tickets}</ul>
                    </div>
                 );
            },
                 handleSubmit:function(e) {
                      e.preventDefault();

                        fetch('https://3000-b3a1ddd3-2e27-49b1-ae0c-3f2c64391be4.ws-eu01.gitpod.io/index.html/tickets').then(function(data) {
                        return data.json(); 
                        }).then(json => {
                          this.setState({
                           tickets: json
                   });
                   console.log(json);
             });
        }
        });

    ReactDOM.render(<Tickets/>.document.getElementById('tickets'));
</script>





		<ul>
			<img src = "images/Kiss-2020_v1_Interna.jpg" width="300" height="250">

			<img src = "images/220px-Harry_Styles_Live_On_Tour.jpg" width="300" height="250">

			<img src = "images/PÃ´ster_de_Reputation_Stadium_Tour.png" width="300" height="250">

</ul>
	</div>

	<div class="Social" align="center">

		<ul><a href="https://www.facebook.com">
				<img src="images/Facebook.jpg" width="30" height="30">
  </a><a href="https://www.instagram.com/?hl=pt">
					<img src="images/Instagram.jpg" width="30" height="30">
  </a><a href="https://twitter.com/?lang=pt">
						<img src="images/Twitter.jpg" width="30" height="30">
    </a>
		</ul>
	</div>


	<footer class="footer">
		<div class="container">
			<span class="text-muted">&copy; Rodolfo Souza 2019</span>
		</div>

	</footer>

</body>

</html>